var Ye=Object.defineProperty,Ue=Object.defineProperties;var qe=Object.getOwnPropertyDescriptors;var Ae=Object.getOwnPropertySymbols;var He=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable;var Te=(d,g,j)=>g in d?Ye(d,g,{enumerable:!0,configurable:!0,writable:!0,value:j}):d[g]=j,re=(d,g)=>{for(var j in g||(g={}))He.call(g,j)&&Te(d,j,g[j]);if(Ae)for(var j of Ae(g))ze.call(g,j)&&Te(d,j,g[j]);return d},le=(d,g)=>Ue(d,qe(g));var ne=(d,g,j)=>new Promise((p,T)=>{var D=a=>{try{R(j.next(a))}catch(k){T(k)}},B=a=>{try{R(j.throw(a))}catch(k){T(k)}},R=a=>a.done?p(a.value):Promise.resolve(a.value).then(D,B);R((j=j.apply(d,g)).next())});import{c as Ne,b as de,r as N,s as Ge,j as e,m as $e,d as P,p as Se,a as Xe,S as he,D as Qe}from"./index.js";import{a as De,C as ye,P as We,T as Je,b as ve,E as Ke,S as Ze}from"./checkbox.js";import{f as be,g as ge,h as se,i as C,j as pe,k as F,F as je,l as es,m as ss,n as ts,o as as,A as Ve,C as Ce,a as Oe,S as Pe,L as rs,B as ls,w as ns,u as cs,v as ds,E as is,N as os}from"./NotificationsPage.js";import{C as o,b as _,a as m,B as H,g as G,h as Re}from"./card.js";import{B as ee,C as te}from"./badge.js";import{I as U,L as E,S as Q,a as W,b as J,c as K,d as w}from"./select.js";import{S as ke,L as we,T as _e,F as ms,a as Fe}from"./textarea.js";import{D as ce}from"./dollar-sign.js";import{D as Ee}from"./download.js";import{C as Be}from"./refresh-cw.js";import{U as xs,X as Le}from"./x.js";import{C as me,R as ie}from"./receipt.js";import{C as hs}from"./ChangePasswordPage.js";import{L as us}from"./lock.js";import"./school.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Me=Ne("banknote",js);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],bs=Ne("briefcase",Ns);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],ue=Ne("building-2",gs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ie=Ne("pen-line",ps);function fs(){const{students:d,currentUser:g,getFeeStructureByClass:j,getStudentFeeBalance:p,addPayment:T,updateStudentFeeBalance:D,currentTerm:B,currentAcademicYear:R,payments:a}=de(),[k,V]=N.useState(""),[y,I]=N.useState(null),[i,r]=N.useState({amount:"",paymentMethod:"",referenceNumber:""}),[l,f]=N.useState([]),[$,x]=N.useState(!1),[q,t]=N.useState(!1),[S,Y]=N.useState([]),h=N.useMemo(()=>{let u;return L=>ne(this,null,function*(){if(clearTimeout(u),L.length<2){Y([]);return}t(!0),u=setTimeout(()=>ne(this,null,function*(){try{const v=yield Ge.getAll({search:L,limit:10,status:"Active"}),s=Array.isArray(v)?v:(v==null?void 0:v.data)||[];Y(s)}catch(v){console.error("Search error:",v),Y([])}finally{t(!1)}}),300)})},[]);N.useEffect(()=>{h(k)},[k,h]);const n=y?d.find(u=>u.id===y):null,b=n?j(n.classId,B,R):null,A=n?p(n.id,B,R):null,Z=u=>{I(u.id),V(`${u.firstName} ${u.lastName} (${u.admissionNumber})`),Y([]),$e.getAll({classId:u.classId}).then(L=>{const v=(L==null?void 0:L.data)||[];f(Array.isArray(v)?v:[])}).catch(()=>{f([])})},X=u=>ne(this,null,function*(){if(u.preventDefault(),!y||!g){P.error("Please select a student");return}if(!i.amount||parseFloat(i.amount)<=0){P.error("Please enter a valid payment amount");return}if(!i.paymentMethod){P.error("Please select a payment method");return}if(l.length===0){P.error("No fees found for this student. Please contact the school.");return}const L=parseFloat(i.amount),v=(A==null?void 0:A.balance)||0;if(L>v){P.error(`Payment amount exceeds balance (₦${v.toLocaleString()})`);return}x(!0);try{const s=l[0].id,c=i.referenceNumber||`TRX${Date.now()}`,O=yield Se.create({student_id:y,fee_id:s,amount_paid:L,payment_method:i.paymentMethod,transaction_id:c});if(O!=null&&O.success||O!=null&&O.id){const z=`REC/${new Date().getFullYear()}/${String(a.length+1).padStart(4,"0")}`;T({studentId:y,studentName:`${n==null?void 0:n.firstName} ${n==null?void 0:n.lastName}`,amount:L,paymentType:L>=v?"Full Payment":"Partial Payment",term:B,academicYear:R,paymentMethod:i.paymentMethod,reference:c,recordedBy:g.id,recordedDate:new Date().toISOString(),status:"Pending",receiptNumber:z}),D(y),P.success(`Payment of ₦${L.toLocaleString()} recorded successfully! Receipt: ${z}`),I(null),V(""),r({amount:"",paymentMethod:"",referenceNumber:""}),f([])}else P.error((O==null?void 0:O.message)||"Failed to record payment. Please try again.")}catch(s){const c=(s==null?void 0:s.data)&&s.data.message||(s==null?void 0:s.message)||"Failed to record payment";P.error(c),console.error("Payment recording error:",s)}finally{x(!1)}});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-[#1F2937] mb-2",children:"Record Payment"}),e.jsx("p",{className:"text-[#6B7280]",children:"Search for student and record fee payment"})]}),e.jsxs(o,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical max-w-2xl",children:[e.jsx(_,{className:"p-5 border-b border-[#E5E7EB]",children:e.jsx("h3",{className:"text-[#1F2937]",children:"Search Student"})}),e.jsx(m,{className:"p-6",children:e.jsx("div",{className:"flex gap-3",children:e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(ke,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-[#6B7280]"}),e.jsx(U,{value:k,onChange:u=>V(u.target.value),placeholder:"Enter student name or admission number...",className:"h-12 pl-10 rounded-lg border border-[#E5E7EB] bg-[#F9FAFB] text-[#1F2937]"}),q&&e.jsx(we,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-[#6B7280] animate-spin"}),S.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-[#E5E7EB] rounded-lg shadow-lg max-h-60 overflow-y-auto z-10",children:S.map(u=>e.jsx("div",{onClick:()=>Z(u),className:"px-4 py-3 hover:bg-[#F3F4F6] cursor-pointer border-b border-[#E5E7EB] last:border-b-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-[#1F2937] font-medium",children:[u.firstName," ",u.lastName]}),e.jsxs("p",{className:"text-[#6B7280] text-sm",children:[u.admissionNumber," • ",u.className]})]}),e.jsx(ee,{variant:"outline",className:"text-xs",children:u.status})]})},u.id))})]})})})]}),n&&A&&e.jsxs(o,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical max-w-2xl",children:[e.jsx(_,{className:"p-5 border-b border-[#E5E7EB]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-[#1F2937]",children:"Student Payment Details"}),e.jsx(ee,{className:A.balance>0?"bg-[#EF4444] text-white border-0":"bg-[#10B981] text-white border-0",children:A.balance>0?"Outstanding":"Fully Paid"})]})}),e.jsxs(m,{className:"p-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB]",children:[e.jsx("p",{className:"text-[#6B7280] mb-1",children:"Student Name"}),e.jsxs("p",{className:"text-[#1F2937]",children:[n.firstName," ",n.lastName]})]}),e.jsxs("div",{className:"p-4 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB]",children:[e.jsx("p",{className:"text-[#6B7280] mb-1",children:"Class"}),e.jsx("p",{className:"text-[#1F2937]",children:n.className})]}),e.jsxs("div",{className:"p-4 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB]",children:[e.jsx("p",{className:"text-[#6B7280] mb-1",children:"Total Fee"}),e.jsxs("p",{className:"text-[#1F2937]",children:["₦",(b==null?void 0:b.totalFee.toLocaleString())||"0"]})]}),e.jsxs("div",{className:"p-4 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB]",children:[e.jsx("p",{className:"text-[#6B7280] mb-1",children:"Amount Paid"}),e.jsxs("p",{className:"text-[#10B981]",children:["₦",A.totalPaid.toLocaleString()]})]}),e.jsxs("div",{className:"p-4 bg-[#FEF2F2] border border-[#EF4444] rounded-lg md:col-span-2",children:[e.jsx("p",{className:"text-[#6B7280] mb-1",children:"Outstanding Balance"}),e.jsxs("p",{className:"text-[#1F2937] text-xl",children:["₦",A.balance.toLocaleString()]})]})]}),e.jsxs("form",{onSubmit:X,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-[#1F2937]",children:"Amount Paid (₦) *"}),e.jsx(U,{required:!0,type:"number",value:i.amount,onChange:u=>r(le(re({},i),{amount:u.target.value})),placeholder:"Enter amount",max:A.balance,className:"h-12 rounded-lg border border-[#E5E7EB] bg-[#F9FAFB] text-[#1F2937]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-[#1F2937]",children:"Payment Method *"}),e.jsxs(Q,{value:i.paymentMethod,onValueChange:u=>r(le(re({},i),{paymentMethod:u})),children:[e.jsx(W,{className:"h-12 rounded-lg border border-[#E5E7EB] bg-[#F9FAFB] text-[#1F2937]",children:e.jsx(J,{placeholder:"Select payment method"})}),e.jsxs(K,{className:"bg-white border-[#E5E7EB]",children:[e.jsx(w,{value:"Cash",className:"text-[#1F2937]",children:"Cash"}),e.jsx(w,{value:"Bank Transfer",className:"text-[#1F2937]",children:"Bank Transfer"}),e.jsx(w,{value:"POS",className:"text-[#1F2937]",children:"POS"}),e.jsx(w,{value:"Online Payment",className:"text-[#1F2937]",children:"Online Payment"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-[#1F2937]",children:"Reference Number"}),e.jsx(U,{value:i.referenceNumber,onChange:u=>r(le(re({},i),{referenceNumber:u.target.value})),placeholder:"Optional: Transaction/Receipt reference",className:"h-12 rounded-lg border border-[#E5E7EB] bg-[#F9FAFB] text-[#1F2937]"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(H,{type:"button",variant:"outline",onClick:()=>I(null),className:"flex-1 h-12 rounded-lg border-[#E5E7EB] text-[#6B7280] hover:bg-[#F9FAFB] hover:text-[#1F2937]",children:"Cancel"}),e.jsxs(H,{type:"submit",disabled:$,className:"flex-1 h-12 bg-[#10B981] hover:bg-[#059669] text-white rounded-lg shadow-clinical hover:shadow-clinical-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(te,{className:"w-5 h-5 mr-2"}),$?"Processing...":"Record Payment"]})]})]})]})]})]})}function ys(){const{payments:d,students:g}=de(),[j,p]=N.useState(""),[T,D]=N.useState("all"),[B,R]=N.useState("all"),a=d.filter(r=>{const l=r.studentName.toLowerCase().includes(j.toLowerCase())||r.reference.toLowerCase().includes(j.toLowerCase())||r.receiptNumber.toLowerCase().includes(j.toLowerCase()),f=T==="all"||r.status===T,$=B==="all"||r.paymentType===B;return l&&f&&$}),k=d.filter(r=>r.status==="Verified").reduce((r,l)=>r+l.amount,0),V=d.filter(r=>r.status==="Pending").reduce((r,l)=>r+l.amount,0),y=d.filter(r=>r.status==="Verified").length,I=r=>{switch(r){case"Verified":return e.jsxs(ee,{className:"bg-green-100 text-green-800 border-green-300",children:[e.jsx(te,{className:"w-3 h-3 mr-1"}),"Verified"]});case"Pending":return e.jsxs(ee,{className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:[e.jsx(De,{className:"w-3 h-3 mr-1"}),"Pending"]});case"Rejected":return e.jsxs(ee,{className:"bg-red-100 text-red-800 border-red-300",children:[e.jsx(Be,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return e.jsx(ee,{className:"bg-gray-100 text-gray-800",children:r})}},i=()=>{const r=["Payment ID","Student Name","Receipt No","Fee Type","Amount","Payment Method","Transaction Ref","Status","Date"],l=a.map(t=>[t.id,t.studentName,t.receiptNumber,t.paymentType,t.amount,t.paymentMethod,t.reference,t.status,new Date(t.recordedDate).toLocaleDateString()]),f=[r,...l].map(t=>t.join(",")).join(`
`),$=new Blob([f],{type:"text/csv"}),x=URL.createObjectURL($),q=document.createElement("a");q.href=x,q.download=`payment-history-${new Date().toISOString().split("T")[0]}.csv`,q.click()};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-[#0A2540] mb-2",children:"Payment History"}),e.jsx("p",{className:"text-gray-600",children:"View and manage all payment transactions"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(o,{className:"border-[#0A2540]/10",children:e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Total Revenue"}),e.jsxs("p",{className:"text-[#0A2540]",children:["₦",k.toLocaleString()]})]}),e.jsx("div",{className:"bg-green-100 p-3 rounded-xl",children:e.jsx(ce,{className:"w-6 h-6 text-green-600"})})]})})}),e.jsx(o,{className:"border-[#0A2540]/10",children:e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Pending Payments"}),e.jsxs("p",{className:"text-[#0A2540]",children:["₦",V.toLocaleString()]})]}),e.jsx("div",{className:"bg-yellow-100 p-3 rounded-xl",children:e.jsx(De,{className:"w-6 h-6 text-yellow-600"})})]})})}),e.jsx(o,{className:"border-[#0A2540]/10",children:e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Completed Transactions"}),e.jsx("p",{className:"text-[#0A2540]",children:y})]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-xl",children:e.jsx(te,{className:"w-6 h-6 text-blue-600"})})]})})})]}),e.jsx(o,{className:"border-[#0A2540]/10",children:e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ke,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(U,{type:"text",placeholder:"Search by name, ID, or ref...",value:j,onChange:r=>p(r.target.value),className:"pl-10 border-[#0A2540]/20 focus:border-[#FFD700] rounded-xl"})]}),e.jsxs(Q,{value:T,onValueChange:D,children:[e.jsx(W,{className:"border-[#0A2540]/20 rounded-xl",children:e.jsx(J,{placeholder:"Status"})}),e.jsxs(K,{children:[e.jsx(w,{value:"all",children:"All Status"}),e.jsx(w,{value:"Verified",children:"Verified"}),e.jsx(w,{value:"Pending",children:"Pending"}),e.jsx(w,{value:"Rejected",children:"Rejected"})]})]}),e.jsxs(Q,{value:B,onValueChange:R,children:[e.jsx(W,{className:"border-[#0A2540]/20 rounded-xl",children:e.jsx(J,{placeholder:"Fee Type"})}),e.jsxs(K,{children:[e.jsx(w,{value:"all",children:"All Fee Types"}),e.jsx(w,{value:"Full Payment",children:"Full Payment"}),e.jsx(w,{value:"Partial Payment",children:"Partial Payment"})]})]}),e.jsxs(H,{onClick:i,className:"bg-[#0A2540] hover:bg-[#0A2540]/90 text-white rounded-xl",children:[e.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})})}),e.jsx(o,{className:"border-[#0A2540]/10",children:e.jsx(m,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(be,{children:[e.jsx(ge,{children:e.jsxs(se,{className:"bg-[#0A2540]/5",children:[e.jsx(C,{className:"text-[#0A2540]",children:"Payment ID"}),e.jsx(C,{className:"text-[#0A2540]",children:"Student"}),e.jsx(C,{className:"text-[#0A2540]",children:"Receipt No."}),e.jsx(C,{className:"text-[#0A2540]",children:"Fee Type"}),e.jsx(C,{className:"text-[#0A2540]",children:"Amount"}),e.jsx(C,{className:"text-[#0A2540]",children:"Payment Method"}),e.jsx(C,{className:"text-[#0A2540]",children:"Transaction Ref"}),e.jsx(C,{className:"text-[#0A2540]",children:"Status"}),e.jsx(C,{className:"text-[#0A2540]",children:"Date"})]})}),e.jsx(pe,{children:a.length===0?e.jsx(se,{children:e.jsx(F,{colSpan:9,className:"text-center py-8 text-gray-500",children:"No payment records found"})}):a.map(r=>{const l=g.find(f=>f.id===r.studentId);return e.jsxs(se,{className:"hover:bg-[#0A2540]/5",children:[e.jsxs(F,{className:"text-[#0A2540]",children:["PAY",String(r.id).padStart(3,"0")]}),e.jsx(F,{children:e.jsxs("div",{children:[e.jsx("p",{className:"text-[#0A2540]",children:r.studentName}),e.jsx("p",{className:"text-sm text-gray-500",children:l==null?void 0:l.admissionNumber})]})}),e.jsx(F,{className:"text-sm text-gray-600 font-mono",children:r.receiptNumber}),e.jsx(F,{children:r.paymentType}),e.jsxs(F,{className:"text-[#0A2540]",children:["₦",r.amount.toLocaleString()]}),e.jsx(F,{children:r.paymentMethod}),e.jsx(F,{className:"text-sm text-gray-600 font-mono",children:r.reference}),e.jsx(F,{children:I(r.status)}),e.jsx(F,{children:new Date(r.recordedDate).toLocaleDateString("en-GB")})]},r.id)})})]})})})})]})}function vs(){const{payments:d,verifyPayment:g,updatePayment:j,updateStudentFeeBalance:p,fetchPendingPayments:T}=de(),[D,B]=N.useState(null),[R,a]=N.useState(!1),[k,V]=N.useState("");N.useEffect(()=>{T()},[]);const y=d.filter(l=>l.status==="Pending"),I=l=>ne(this,null,function*(){var $;const f=d.find(x=>x.id===l);if(f)try{yield Se.verify({id:l}),g(l),p(f.studentId),P.success(`Payment ${f.receiptNumber} verified successfully!`)}catch(x){console.error("Error verifying payment:",x);const q=(($=x==null?void 0:x.data)==null?void 0:$.message)||(x==null?void 0:x.message)||"Failed to verify payment";P.error(q)}}),i=()=>{if(D){if(!k.trim()){P.error("Please provide a reason for rejection");return}j(D.id,{status:"Rejected"}),P.error(`Payment ${D.receiptNumber} rejected`),a(!1),B(null),V("")}},r=l=>{B(l),a(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-[#1F2937] mb-2",children:"Verify Payment Receipts"}),e.jsx("p",{className:"text-[#6B7280]",children:"Review and verify pending payment submissions"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(o,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:e.jsxs(m,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-[#6B7280]",children:"Pending Verification"}),e.jsx(je,{className:"w-5 h-5 text-[#F59E0B]"})]}),e.jsx("p",{className:"text-3xl text-[#1F2937]",children:y.length})]})}),e.jsx(o,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:e.jsxs(m,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-[#6B7280]",children:"Total Amount"}),e.jsx(te,{className:"w-5 h-5 text-[#10B981]"})]}),e.jsxs("p",{className:"text-3xl text-[#1F2937]",children:["₦",y.reduce((l,f)=>l+f.amount,0).toLocaleString()]})]})}),e.jsx(o,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:e.jsxs(m,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-[#6B7280]",children:"Verified Today"}),e.jsx(te,{className:"w-5 h-5 text-[#3B82F6]"})]}),e.jsx("p",{className:"text-3xl text-[#1F2937]",children:d.filter(l=>l.status==="Verified"&&new Date(l.recordedDate).toDateString()===new Date().toDateString()).length})]})})]}),e.jsxs(o,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(_,{className:"p-5 border-b border-[#E5E7EB]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-[#1F2937]",children:"Pending Payment Verifications"}),e.jsx(ee,{className:"bg-[#F59E0B] text-white border-0",children:y.length})]})}),e.jsx(m,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(be,{children:[e.jsx(ge,{children:e.jsxs(se,{className:"bg-[#2563EB] border-none hover:bg-[#2563EB]",children:[e.jsx(C,{className:"text-white",children:"Date"}),e.jsx(C,{className:"text-white",children:"Student Name"}),e.jsx(C,{className:"text-white",children:"Receipt No."}),e.jsx(C,{className:"text-white",children:"Amount"}),e.jsx(C,{className:"text-white",children:"Payment Type"}),e.jsx(C,{className:"text-white",children:"Method"}),e.jsx(C,{className:"text-white",children:"Reference"}),e.jsx(C,{className:"text-white text-center",children:"Actions"})]})}),e.jsx(pe,{children:y.length===0?e.jsx(se,{className:"bg-white",children:e.jsx(F,{colSpan:8,className:"text-center py-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(te,{className:"w-12 h-12 text-[#10B981]"}),e.jsx("p",{className:"text-[#1F2937]",children:"No pending payments to verify"}),e.jsx("p",{className:"text-[#6B7280] text-sm",children:"All payments have been processed"})]})})}):y.map(l=>e.jsxs(se,{className:"bg-white border-b border-[#E5E7EB] hover:bg-[#F9FAFB]",children:[e.jsx(F,{className:"text-[#1F2937]",children:new Date(l.recordedDate).toLocaleDateString()}),e.jsx(F,{className:"text-[#1F2937] font-medium",children:l.studentName}),e.jsx(F,{className:"text-[#6B7280] font-mono text-sm",children:l.receiptNumber}),e.jsxs(F,{className:"text-[#1F2937] font-medium",children:["₦",l.amount.toLocaleString()]}),e.jsx(F,{className:"text-[#6B7280]",children:l.paymentType}),e.jsx(F,{className:"text-[#6B7280]",children:l.paymentMethod}),e.jsx(F,{className:"text-[#6B7280] font-mono text-xs",children:l.reference}),e.jsx(F,{className:"text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsxs(H,{onClick:()=>I(l.id),size:"sm",className:"bg-[#10B981] hover:bg-[#059669] text-white rounded-lg h-8 shadow-clinical hover:shadow-clinical-lg transition-all",children:[e.jsx(te,{className:"w-4 h-4 mr-1"}),"Verify"]}),e.jsxs(H,{onClick:()=>r(l),size:"sm",variant:"outline",className:"border-[#EF4444] text-[#EF4444] hover:bg-[#FEF2F2] rounded-lg h-8",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),"Reject"]})]})})]},l.id))})]})})})]}),e.jsx(es,{open:R,onOpenChange:a,children:e.jsxs(ss,{className:"max-w-md rounded-lg bg-white border border-[#E5E7EB] text-[#1F2937]",children:[e.jsx(ts,{children:e.jsx(as,{className:"text-[#1F2937]",children:"Reject Payment"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[D&&e.jsxs("div",{className:"p-4 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB]",children:[e.jsx("p",{className:"text-sm text-[#6B7280] mb-2",children:"Payment Details:"}),e.jsx("p",{className:"text-[#1F2937] font-medium",children:D.studentName}),e.jsxs("p",{className:"text-[#6B7280] text-sm",children:["Receipt: ",D.receiptNumber," | Amount: ₦",D.amount.toLocaleString()]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{className:"text-[#1F2937]",children:["Reason for Rejection ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(_e,{placeholder:"Enter reason for rejecting this payment...",value:k,onChange:l=>V(l.target.value),rows:4,className:"rounded-lg border border-[#E5E7EB] bg-white text-[#1F2937]"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(H,{onClick:()=>{a(!1),B(null),V("")},variant:"outline",className:"rounded-lg border-[#E5E7EB] text-[#6B7280]",children:"Cancel"}),e.jsxs(H,{onClick:i,className:"bg-[#EF4444] hover:bg-[#DC2626] text-white rounded-lg",children:[e.jsx(Be,{className:"w-4 h-4 mr-2"}),"Reject Payment"]})]})]})})]})}function ws(){const{classes:d,currentTerm:g,currentAcademicYear:j,addFeeStructure:p,updateFeeStructure:T,getFeeStructureByClass:D,feeStructures:B}=de(),[R,a]=N.useState(""),[k,V]=N.useState(g),[y,I]=N.useState(j),[i,r]=N.useState({tuitionFee:"",developmentLevy:"",sportsFee:"",examFee:"",booksFee:"",uniformFee:"",transportFee:""}),l=t=>{a(t);const S=D(Number(t),k,y);r(S?{tuitionFee:S.tuitionFee.toString(),developmentLevy:S.developmentLevy.toString(),sportsFee:S.sportsFee.toString(),examFee:S.examFee.toString(),booksFee:S.booksFee.toString(),uniformFee:S.uniformFee.toString(),transportFee:S.transportFee.toString()}:{tuitionFee:"",developmentLevy:"",sportsFee:"",examFee:"",booksFee:"",uniformFee:"",transportFee:""})},f=(t,S)=>{(S===""||/^\d+$/.test(S))&&r(le(re({},i),{[t]:S}))},$=()=>Object.values(i).reduce((t,S)=>t+(S?parseInt(S):0),0),x=()=>{if(!R){P.error("Please select a class");return}if($()===0){P.error("Please enter at least one fee amount");return}const S=d.find(n=>n.id===Number(R));if(!S)return;const Y={classId:Number(R),className:S.name,level:S.level,term:k,academicYear:y,tuitionFee:parseInt(i.tuitionFee||"0"),developmentLevy:parseInt(i.developmentLevy||"0"),sportsFee:parseInt(i.sportsFee||"0"),examFee:parseInt(i.examFee||"0"),booksFee:parseInt(i.booksFee||"0"),uniformFee:parseInt(i.uniformFee||"0"),transportFee:parseInt(i.transportFee||"0")},h=D(Number(R),k,y);h?(T(h.id,Y),P.success("Fee structure updated successfully!")):(p(Y),P.success("Fee structure created successfully!"))},q=d.filter(t=>t.status==="active");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-[#1F2937] mb-2",children:"Set Fee Structure"}),e.jsx("p",{className:"text-[#6B7280]",children:"Define and manage school fees per class and term"})]}),e.jsxs(Ve,{className:"bg-[#007C91]/10 border-[#007C91] rounded-xl",children:[e.jsx(Ce,{className:"h-4 w-4 text-[#007C91]"}),e.jsx(Oe,{className:"text-[#007C91]",children:"Set fees for each class and term. Parents will see these fees in real-time on their dashboard."})]}),e.jsxs(o,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(_,{className:"p-6 border-b border-[#E5E7EB]",children:e.jsx(G,{className:"text-[#1F2937]",children:"Fee Configuration"})}),e.jsxs(m,{className:"p-6",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-[#1F2937] mb-2 block",children:"Class"}),e.jsxs(Q,{value:R,onValueChange:l,children:[e.jsx(W,{className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]",children:e.jsx(J,{placeholder:"Select class"})}),e.jsx(K,{children:q.map(t=>e.jsxs(w,{value:t.id.toString(),children:[t.name," (",t.level,")"]},t.id))})]})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-[#1F2937] mb-2 block",children:"Term"}),e.jsxs(Q,{value:k,onValueChange:V,children:[e.jsx(W,{className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]",children:e.jsx(J,{})}),e.jsxs(K,{children:[e.jsx(w,{value:"First Term",children:"First Term"}),e.jsx(w,{value:"Second Term",children:"Second Term"}),e.jsx(w,{value:"Third Term",children:"Third Term"})]})]})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-[#1F2937] mb-2 block",children:"Academic Year"}),e.jsxs(Q,{value:y,onValueChange:I,children:[e.jsx(W,{className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]",children:e.jsx(J,{})}),e.jsxs(K,{children:[e.jsx(w,{value:"2023/2024",children:"2023/2024"}),e.jsx(w,{value:"2024/2025",children:"2024/2025"}),e.jsx(w,{value:"2025/2026",children:"2025/2026"})]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-[#1F2937] mb-2 block",children:"Tuition Fee (₦)"}),e.jsx(U,{type:"text",value:i.tuitionFee,onChange:t=>f("tuitionFee",t.target.value),placeholder:"0",className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]"})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-[#1F2937] mb-2 block",children:"Development Levy (₦)"}),e.jsx(U,{type:"text",value:i.developmentLevy,onChange:t=>f("developmentLevy",t.target.value),placeholder:"0",className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]"})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-[#1F2937] mb-2 block",children:"Sports Fee (₦)"}),e.jsx(U,{type:"text",value:i.sportsFee,onChange:t=>f("sportsFee",t.target.value),placeholder:"0",className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]"})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-[#1F2937] mb-2 block",children:"Exam Fee (₦)"}),e.jsx(U,{type:"text",value:i.examFee,onChange:t=>f("examFee",t.target.value),placeholder:"0",className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]"})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-[#1F2937] mb-2 block",children:"Books Fee (₦)"}),e.jsx(U,{type:"text",value:i.booksFee,onChange:t=>f("booksFee",t.target.value),placeholder:"0",className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]"})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-[#1F2937] mb-2 block",children:"Uniform Fee (₦)"}),e.jsx(U,{type:"text",value:i.uniformFee,onChange:t=>f("uniformFee",t.target.value),placeholder:"0",className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]"})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-[#1F2937] mb-2 block",children:"Transport Fee (₦)"}),e.jsx(U,{type:"text",value:i.transportFee,onChange:t=>f("transportFee",t.target.value),placeholder:"0",className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]"})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-[#007C91]/10 rounded-lg border border-[#007C91]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[#1F2937]",children:"Total Fee"}),e.jsxs("span",{className:"text-[#007C91]",children:["₦",$().toLocaleString()]})]})}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs(H,{onClick:x,className:"bg-[#007C91] hover:bg-[#006073] text-white rounded-xl shadow-clinical hover:shadow-clinical-lg transition-all",children:[e.jsx(Pe,{className:"w-4 h-4 mr-2"}),"Save Fee Structure"]})})]})]}),e.jsxs(o,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(_,{className:"p-6 border-b border-[#E5E7EB]",children:e.jsx(G,{className:"text-[#1F2937]",children:"Existing Fee Structures"})}),e.jsx(m,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#007C91] text-white",children:[e.jsx("th",{className:"text-left p-4",children:"Class"}),e.jsx("th",{className:"text-left p-4",children:"Level"}),e.jsx("th",{className:"text-left p-4",children:"Term"}),e.jsx("th",{className:"text-left p-4",children:"Year"}),e.jsx("th",{className:"text-right p-4",children:"Total Fee"})]})}),e.jsx("tbody",{children:B.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center p-8 text-[#6B7280]",children:"No fee structures created yet"})}):B.map(t=>e.jsxs("tr",{className:"border-b border-[#E5E7EB] hover:bg-[#F9FAFB]",children:[e.jsx("td",{className:"p-4 text-[#1F2937]",children:t.className}),e.jsx("td",{className:"p-4 text-[#6B7280]",children:t.level}),e.jsx("td",{className:"p-4 text-[#6B7280]",children:t.term}),e.jsx("td",{className:"p-4 text-[#6B7280]",children:t.academicYear}),e.jsxs("td",{className:"p-4 text-right text-[#007C91]",children:["₦",t.totalFee.toLocaleString()]})]},t.id))})]})})})]})]})}function Fs(){const{payments:d,students:g,classes:j,feeStructures:p,studentFeeBalances:T,currentTerm:D,currentAcademicYear:B,schoolSettings:R}=de(),[a,k]=N.useState("all"),[V,y]=N.useState(D),[I,i]=N.useState(B),[r,l]=N.useState("all"),f=()=>{let h=T.filter(n=>n.term===V&&n.academicYear===I);return a!=="all"&&(h=h.filter(n=>n.classId===Number(a))),r!=="all"&&(h=h.filter(n=>n.status===r)),h},$=()=>{const h=f(),n=h.reduce((v,s)=>v+s.totalFeeRequired,0),b=h.reduce((v,s)=>v+s.totalPaid,0),A=h.reduce((v,s)=>v+s.balance,0),Z=h.filter(v=>v.status==="Paid").length,X=h.filter(v=>v.status==="Partial").length,u=h.filter(v=>v.status==="Unpaid").length,L=n>0?(b/n*100).toFixed(1):"0";return{totalExpected:n,totalCollected:b,totalOutstanding:A,fullyPaid:Z,partiallyPaid:X,unpaid:u,collectionRate:L,totalStudents:h.length}},x=()=>{P.info("PDF export temporarily disabled for security review. Use Print instead.")},q=()=>{const h=f(),n=$();let b=`Payment Report
`;b+=`${R.schoolName}
`,b+=`Term: ${V}, Academic Year: ${I}
`,b+=`Generated: ${new Date().toLocaleDateString()}

`,b+=`Summary Statistics
`,b+=`Total Expected,${n.totalExpected}
`,b+=`Total Collected,${n.totalCollected}
`,b+=`Outstanding,${n.totalOutstanding}
`,b+=`Collection Rate,${n.collectionRate}%
`,b+=`Total Students,${n.totalStudents}
`,b+=`Fully Paid,${n.fullyPaid}
`,b+=`Partially Paid,${n.partiallyPaid}
`,b+=`Unpaid,${n.unpaid}

`,b+=`Student Name,Admission Number,Class,Required,Paid,Balance,Status
`,h.forEach(u=>{const L=g.find(s=>s.id===u.studentId),v=j.find(s=>s.id===u.classId);b+=`${L?`${L.firstName} ${L.lastName}`:"N/A"},`,b+=`${(L==null?void 0:L.admissionNumber)||"N/A"},`,b+=`${(v==null?void 0:v.name)||"N/A"},`,b+=`${u.totalFeeRequired},`,b+=`${u.totalPaid},`,b+=`${u.balance},`,b+=`${u.status}
`});const A=new Blob([b],{type:"text/csv"}),Z=window.URL.createObjectURL(A),X=document.createElement("a");X.href=Z,X.download=`Payment_Report_${V}_${I}.csv`,X.click(),P.success("CSV exported successfully!")},t=$(),S=f(),Y=j.filter(h=>h.status==="active");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-[#1F2937] mb-2",children:"Payment Reports"}),e.jsx("p",{className:"text-[#6B7280]",children:"Generate and export comprehensive payment reports"})]}),e.jsxs(o,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(_,{className:"p-6 border-b border-[#E5E7EB]",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ms,{className:"w-5 h-5 text-[#007C91]"}),e.jsx(G,{className:"text-[#1F2937]",children:"Report Filters"})]})}),e.jsxs(m,{className:"p-6",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-[#1F2937] mb-2 block",children:"Class"}),e.jsxs(Q,{value:a,onValueChange:k,children:[e.jsx(W,{className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]",children:e.jsx(J,{})}),e.jsxs(K,{children:[e.jsx(w,{value:"all",children:"All Classes"}),Y.map(h=>e.jsx(w,{value:h.id.toString(),children:h.name},h.id))]})]})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-[#1F2937] mb-2 block",children:"Term"}),e.jsxs(Q,{value:V,onValueChange:y,children:[e.jsx(W,{className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]",children:e.jsx(J,{})}),e.jsxs(K,{children:[e.jsx(w,{value:"First Term",children:"First Term"}),e.jsx(w,{value:"Second Term",children:"Second Term"}),e.jsx(w,{value:"Third Term",children:"Third Term"})]})]})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-[#1F2937] mb-2 block",children:"Academic Year"}),e.jsxs(Q,{value:I,onValueChange:i,children:[e.jsx(W,{className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]",children:e.jsx(J,{})}),e.jsxs(K,{children:[e.jsx(w,{value:"2023/2024",children:"2023/2024"}),e.jsx(w,{value:"2024/2025",children:"2024/2025"}),e.jsx(w,{value:"2025/2026",children:"2025/2026"})]})]})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-[#1F2937] mb-2 block",children:"Payment Status"}),e.jsxs(Q,{value:r,onValueChange:l,children:[e.jsx(W,{className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]",children:e.jsx(J,{})}),e.jsxs(K,{children:[e.jsx(w,{value:"all",children:"All Statuses"}),e.jsx(w,{value:"Paid",children:"Fully Paid"}),e.jsx(w,{value:"Partial",children:"Partially Paid"}),e.jsx(w,{value:"Unpaid",children:"Unpaid"})]})]})]})]}),e.jsxs("div",{className:"mt-4 flex gap-3",children:[e.jsxs(H,{onClick:x,className:"bg-[#007C91] hover:bg-[#006073] text-white rounded-xl shadow-clinical",children:[e.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Export PDF"]}),e.jsxs(H,{onClick:q,variant:"outline",className:"border-[#007C91] text-[#007C91] hover:bg-[#007C91]/10 rounded-xl",children:[e.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsx(o,{className:"rounded-xl bg-gradient-to-br from-[#007C91] to-[#006073] text-white shadow-clinical",children:e.jsxs(m,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(ce,{className:"w-6 h-6"})}),e.jsx(Fe,{className:"w-5 h-5 opacity-70"})]}),e.jsx("p",{className:"text-white/80 text-sm mb-1",children:"Total Expected"}),e.jsxs("h3",{className:"text-white",children:["₦",t.totalExpected.toLocaleString()]})]})}),e.jsx(o,{className:"rounded-xl bg-gradient-to-br from-[#10B981] to-[#059669] text-white shadow-clinical",children:e.jsxs(m,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(ce,{className:"w-6 h-6"})}),e.jsxs("span",{className:"text-sm opacity-80",children:[t.collectionRate,"%"]})]}),e.jsx("p",{className:"text-white/80 text-sm mb-1",children:"Total Collected"}),e.jsxs("h3",{className:"text-white",children:["₦",t.totalCollected.toLocaleString()]})]})}),e.jsx(o,{className:"rounded-xl bg-gradient-to-br from-[#EF4444] to-[#DC2626] text-white shadow-clinical",children:e.jsxs(m,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(Ce,{className:"w-6 h-6"})})}),e.jsx("p",{className:"text-white/80 text-sm mb-1",children:"Outstanding"}),e.jsxs("h3",{className:"text-white",children:["₦",t.totalOutstanding.toLocaleString()]})]})}),e.jsx(o,{className:"rounded-xl bg-gradient-to-br from-[#F4B400] to-[#F59E0B] text-white shadow-clinical",children:e.jsxs(m,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(xs,{className:"w-6 h-6"})})}),e.jsx("p",{className:"text-white/80 text-sm mb-1",children:"Total Students"}),e.jsx("h3",{className:"text-white",children:t.totalStudents})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsx(o,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[#6B7280] text-sm mb-1",children:"Fully Paid"}),e.jsx("h3",{className:"text-[#10B981]",children:t.fullyPaid})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#10B981]/10 flex items-center justify-center",children:e.jsx("span",{className:"text-[#10B981]",children:"✓"})})]})})}),e.jsx(o,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[#6B7280] text-sm mb-1",children:"Partially Paid"}),e.jsx("h3",{className:"text-[#F59E0B]",children:t.partiallyPaid})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#F59E0B]/10 flex items-center justify-center",children:e.jsx("span",{className:"text-[#F59E0B]",children:"◐"})})]})})}),e.jsx(o,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[#6B7280] text-sm mb-1",children:"Unpaid"}),e.jsx("h3",{className:"text-[#EF4444]",children:t.unpaid})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#EF4444]/10 flex items-center justify-center",children:e.jsx("span",{className:"text-[#EF4444]",children:"✗"})})]})})})]}),e.jsxs(o,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(_,{className:"p-6 border-b border-[#E5E7EB]",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(je,{className:"w-5 h-5 text-[#007C91]"}),e.jsx(G,{className:"text-[#1F2937]",children:"Detailed Payment Report"})]})}),e.jsx(m,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#007C91] text-white",children:[e.jsx("th",{className:"text-left p-4",children:"Student Name"}),e.jsx("th",{className:"text-left p-4",children:"Class"}),e.jsx("th",{className:"text-right p-4",children:"Required"}),e.jsx("th",{className:"text-right p-4",children:"Paid"}),e.jsx("th",{className:"text-right p-4",children:"Balance"}),e.jsx("th",{className:"text-center p-4",children:"Status"})]})}),e.jsx("tbody",{children:S.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center p-8 text-[#6B7280]",children:"No payment records found for the selected filters"})}):S.map(h=>{const n=g.find(A=>A.id===h.studentId),b=j.find(A=>A.id===h.classId);return e.jsxs("tr",{className:"border-b border-[#E5E7EB] hover:bg-[#F9FAFB]",children:[e.jsx("td",{className:"p-4 text-[#1F2937]",children:n?`${n.firstName} ${n.lastName}`:"N/A"}),e.jsx("td",{className:"p-4 text-[#6B7280]",children:(b==null?void 0:b.name)||"N/A"}),e.jsxs("td",{className:"p-4 text-right text-[#1F2937]",children:["₦",h.totalFeeRequired.toLocaleString()]}),e.jsxs("td",{className:"p-4 text-right text-[#10B981]",children:["₦",h.totalPaid.toLocaleString()]}),e.jsxs("td",{className:"p-4 text-right text-[#EF4444]",children:["₦",h.balance.toLocaleString()]}),e.jsx("td",{className:"p-4 text-center",children:e.jsx(ee,{className:`rounded-full ${h.status==="Paid"?"bg-[#10B981] text-white":h.status==="Partial"?"bg-[#F59E0B] text-white":"bg-[#EF4444] text-white"}`,children:h.status})})]},h.id)})})]})})})]})]})}function Es(){const{bankAccountSettings:d,updateBankAccountSettings:g,currentUser:j}=de(),[p,T]=N.useState({bankName:"",accountName:"",accountNumber:"",paymentMethods:{bankTransfer:!0,onlinePayment:!1,cash:!0}});N.useEffect(()=>{d&&T({bankName:d.bankName,accountName:d.accountName,accountNumber:d.accountNumber,paymentMethods:d.paymentMethods})},[d]);const D=(a,k)=>{T(le(re({},p),{[a]:k}))},B=(a,k)=>{T(le(re({},p),{paymentMethods:le(re({},p.paymentMethods),{[a]:k})}))},R=()=>{if(!p.bankName||!p.accountName||!p.accountNumber){P.error("Please fill in all required fields");return}if(!j){P.error("User not authenticated");return}g({bankName:p.bankName,accountName:p.accountName,accountNumber:p.accountNumber,paymentMethods:p.paymentMethods,updatedBy:j.id}),P.success("Bank account settings saved successfully!")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-[#1F2937] mb-2",children:"Bank Account Settings"}),e.jsx("p",{className:"text-[#6B7280]",children:"Manage school bank account and payment methods"})]}),e.jsxs(Ve,{className:"bg-[#007C91]/10 border-[#007C91] rounded-xl",children:[e.jsx(Ce,{className:"h-4 w-4 text-[#007C91]"}),e.jsx(Oe,{className:"text-[#007C91]",children:"This information will be displayed to parents for fee payments. Ensure all details are accurate."})]}),e.jsxs(o,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(_,{className:"p-6 border-b border-[#E5E7EB]",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#007C91]/10 flex items-center justify-center",children:e.jsx(ue,{className:"w-6 h-6 text-[#007C91]"})}),e.jsxs("div",{children:[e.jsx(G,{className:"text-[#1F2937]",children:"Bank Account Information"}),e.jsx("p",{className:"text-sm text-[#6B7280] mt-1",children:"Configure school bank account details"})]})]})}),e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-[#1F2937] mb-2 block",children:"Bank Name *"}),e.jsx(U,{type:"text",value:p.bankName,onChange:a=>D("bankName",a.target.value),placeholder:"e.g., First Bank of Nigeria",className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]"})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-[#1F2937] mb-2 block",children:"Account Name *"}),e.jsx(U,{type:"text",value:p.accountName,onChange:a=>D("accountName",a.target.value),placeholder:"e.g., Graceland Royal Academy Gombe",className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]"})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-[#1F2937] mb-2 block",children:"Account Number *"}),e.jsx(U,{type:"text",value:p.accountNumber,onChange:a=>D("accountNumber",a.target.value),placeholder:"e.g., 1234567890",maxLength:10,className:"rounded-lg border-[#E5E7EB] focus:border-[#007C91]"})]})]})})]}),e.jsxs(o,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(_,{className:"p-6 border-b border-[#E5E7EB]",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#F4B400]/10 flex items-center justify-center",children:e.jsx(me,{className:"w-6 h-6 text-[#F4B400]"})}),e.jsxs("div",{children:[e.jsx(G,{className:"text-[#1F2937]",children:"Payment Methods"}),e.jsx("p",{className:"text-sm text-[#6B7280] mt-1",children:"Select available payment options for parents"})]})]})}),e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB] hover:border-[#007C91] transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ye,{id:"bankTransfer",checked:p.paymentMethods.bankTransfer,onCheckedChange:a=>B("bankTransfer",a)}),e.jsx(E,{htmlFor:"bankTransfer",className:"text-[#1F2937] cursor-pointer",children:"Bank Transfer"})]}),e.jsx("span",{className:"text-sm text-[#6B7280]",children:"Direct transfer to school account"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB] hover:border-[#007C91] transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ye,{id:"onlinePayment",checked:p.paymentMethods.onlinePayment,onCheckedChange:a=>B("onlinePayment",a)}),e.jsx(E,{htmlFor:"onlinePayment",className:"text-[#1F2937] cursor-pointer",children:"Online Payment Gateway"})]}),e.jsx("span",{className:"text-sm text-[#6B7280]",children:"Paystack, Flutterwave, etc."})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB] hover:border-[#007C91] transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ye,{id:"cash",checked:p.paymentMethods.cash,onCheckedChange:a=>B("cash",a)}),e.jsx(E,{htmlFor:"cash",className:"text-[#1F2937] cursor-pointer",children:"Cash Payment"})]}),e.jsx("span",{className:"text-sm text-[#6B7280]",children:"Payment at school office"})]})]})})]}),d&&e.jsxs(o,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(_,{className:"p-6 border-b border-[#E5E7EB]",children:e.jsx(G,{className:"text-[#1F2937]",children:"Current Settings"})}),e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-[#F9FAFB] rounded-lg",children:[e.jsx("p",{className:"text-sm text-[#6B7280] mb-1",children:"Bank Name"}),e.jsx("p",{className:"text-[#1F2937]",children:d.bankName})]}),e.jsxs("div",{className:"p-4 bg-[#F9FAFB] rounded-lg",children:[e.jsx("p",{className:"text-sm text-[#6B7280] mb-1",children:"Account Number"}),e.jsx("p",{className:"text-[#1F2937]",children:d.accountNumber})]}),e.jsxs("div",{className:"p-4 bg-[#F9FAFB] rounded-lg md:col-span-2",children:[e.jsx("p",{className:"text-sm text-[#6B7280] mb-1",children:"Account Name"}),e.jsx("p",{className:"text-[#1F2937]",children:d.accountName})]}),e.jsxs("div",{className:"p-4 bg-[#F9FAFB] rounded-lg md:col-span-2",children:[e.jsx("p",{className:"text-sm text-[#6B7280] mb-2",children:"Active Payment Methods"}),e.jsxs("div",{className:"flex gap-2",children:[d.paymentMethods.bankTransfer&&e.jsx("span",{className:"px-3 py-1 bg-[#007C91] text-white text-sm rounded-full",children:"Bank Transfer"}),d.paymentMethods.onlinePayment&&e.jsx("span",{className:"px-3 py-1 bg-[#007C91] text-white text-sm rounded-full",children:"Online Payment"}),d.paymentMethods.cash&&e.jsx("span",{className:"px-3 py-1 bg-[#007C91] text-white text-sm rounded-full",children:"Cash"})]})]})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(H,{onClick:R,className:"bg-[#007C91] hover:bg-[#006073] text-white rounded-xl shadow-clinical hover:shadow-clinical-lg transition-all",children:[e.jsx(Pe,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})]})}function Bs(){var v;const{students:d,classes:g,currentTerm:j,currentAcademicYear:p,currentUser:T,addPayment:D}=de(),[B,R]=N.useState(""),[a,k]=N.useState(null),[V,y]=N.useState(!1),[I,i]=N.useState(!1),[r,l]=N.useState([]),[f,$]=N.useState(null),[x,q]=N.useState({amount:"",paymentMethod:"cash",paymentDate:new Date().toISOString().split("T")[0],referenceNumber:"",bankName:"",notes:""}),[t,S]=N.useState([]);N.useEffect(()=>{Y()},[]);const Y=()=>ne(this,null,function*(){try{S([])}catch(s){console.error("Error loading payment history:",s)}finally{}}),h=d.filter(s=>s.firstName.toLowerCase().includes(B.toLowerCase())||s.lastName.toLowerCase().includes(B.toLowerCase())||s.admissionNumber.toLowerCase().includes(B.toLowerCase())),n=s=>ne(this,null,function*(){try{i(!0),l([]),$(null);const c=yield $e.getAll({class:s.classId}),M=(c==null?void 0:c.data)||(Array.isArray(c)?c:[]);l(M),M.length>0&&$(M[0].id)}catch(c){console.error("Error loading fees:",c),P.error("Failed to load fees for this student")}finally{i(!1)}}),b=s=>{k(s),R(""),n(s)},A=(s,c)=>{q(M=>le(re({},M),{[s]:c}))},Z=()=>{q({amount:"",paymentMethod:"cash",paymentDate:new Date().toISOString().split("T")[0],referenceNumber:"",bankName:"",notes:""}),k(null),$(null),l([])},X=()=>ne(this,null,function*(){var s,c;if(!a){P.error("Please select a student");return}if(!f){P.error("Please select a fee");return}if(!x.amount||parseFloat(x.amount)<=0){P.error("Please enter a valid amount");return}if(x.paymentMethod==="bank_transfer"&&!x.referenceNumber){P.error("Please enter reference number for bank transfer");return}try{y(!0);const M=g.find(xe=>xe.id===a.classId),O=r.find(xe=>xe.id===f),z={student_id:a.id,fee_id:f,amount_paid:parseFloat(x.amount),payment_method:x.paymentMethod,payment_date:x.paymentDate,transaction_id:x.referenceNumber||null},ae=yield Se.manual(z);if(ae!=null&&ae.success){const oe={id:((s=ae==null?void 0:ae.data)==null?void 0:s.id)||(t.length>0?Math.max(...t.map(fe=>fe.id))+1:1),studentId:a.id,studentName:`${a.firstName} ${a.lastName}`,className:(M==null?void 0:M.name)||"N/A",amount:parseFloat(x.amount),paymentMethod:x.paymentMethod,paymentDate:x.paymentDate,termId:(O==null?void 0:O.term_id)||0,sessionId:(O==null?void 0:O.session_id)||0,referenceNumber:x.referenceNumber||void 0,bankName:x.bankName||void 0,notes:x.notes||void 0,recordedBy:(T==null?void 0:T.email)||"Accountant",recordedAt:new Date().toISOString()};S(fe=>[oe,...fe]),D({studentId:a.id,studentName:oe.studentName,amount:oe.amount,paymentType:"Manual",term:j,academicYear:p,paymentMethod:oe.paymentMethod,reference:oe.referenceNumber||"",recordedBy:(c=T==null?void 0:T.id)!=null?c:0,recordedDate:new Date().toISOString(),status:"Verified",receiptNumber:oe.referenceNumber||`MAN-${Date.now()}`}),P.success("Payment recorded successfully!"),Z()}else P.error((ae==null?void 0:ae.message)||"Failed to record payment")}catch(M){console.error("Error saving payment:",M),P.error((M==null?void 0:M.message)||"Failed to save payment. Please try again.")}finally{y(!1)}}),u=s=>{confirm("Are you sure you want to delete this payment record?")&&(S(c=>c.filter(M=>M.id!==s)),P.success("Payment record deleted"))},L=s=>{switch(s){case"cash":return e.jsx(Me,{className:"h-4 w-4"});case"bank_transfer":return e.jsx(me,{className:"h-4 w-4"});case"cheque":return e.jsx(ie,{className:"h-4 w-4"});default:return e.jsx(ce,{className:"h-4 w-4"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Manual Payment Entry"}),e.jsx("p",{className:"text-muted-foreground",children:"Record cash and bank transfer payments manually"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(o,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(G,{className:"text-sm font-medium",children:"Total Recorded Today"}),e.jsx(ce,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(m,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["₦",t.filter(s=>s.paymentDate===new Date().toISOString().split("T")[0]).reduce((s,c)=>s+c.amount,0).toLocaleString()]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.filter(s=>s.paymentDate===new Date().toISOString().split("T")[0]).length," payments"]})]})]}),e.jsxs(o,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(G,{className:"text-sm font-medium",children:"Cash Payments"}),e.jsx(Me,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(m,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["₦",t.filter(s=>s.paymentMethod==="cash").reduce((s,c)=>s+c.amount,0).toLocaleString()]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.filter(s=>s.paymentMethod==="cash").length," transactions"]})]})]}),e.jsxs(o,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(G,{className:"text-sm font-medium",children:"Bank Transfers"}),e.jsx(me,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(m,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["₦",t.filter(s=>s.paymentMethod==="bank_transfer").reduce((s,c)=>s+c.amount,0).toLocaleString()]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.filter(s=>s.paymentMethod==="bank_transfer").length," transactions"]})]})]})]}),e.jsxs(o,{children:[e.jsxs(_,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(We,{className:"h-5 w-5"}),"New Payment Entry"]}),e.jsx(Re,{children:"Enter payment details for cash or bank transfer"})]}),e.jsxs(m,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Select Student *"}),a?e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/50",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:[a.firstName," ",a.lastName]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.admissionNumber," • ",(v=g.find(s=>s.id===a.classId))==null?void 0:v.name]})]}),e.jsx(H,{variant:"ghost",size:"sm",onClick:()=>k(null),children:e.jsx(Le,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ke,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(U,{placeholder:"Search by name or admission number...",value:B,onChange:s=>R(s.target.value),className:"pl-10"})]}),B&&e.jsx("div",{className:"border rounded-lg max-h-48 overflow-y-auto",children:h.length>0?h.map(s=>{var c;return e.jsxs("div",{className:"p-3 hover:bg-muted cursor-pointer border-b last:border-b-0",onClick:()=>b(s),children:[e.jsxs("p",{className:"font-medium",children:[s.firstName," ",s.lastName]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.admissionNumber," • ",(c=g.find(M=>M.id===s.classId))==null?void 0:c.name]})]},s.id)}):e.jsx("p",{className:"p-4 text-center text-muted-foreground",children:"No students found"})})]})]}),a&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"fee",children:"Select Fee *"}),I?e.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-muted/50",children:[e.jsx(we,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading fees..."})]}):r.length>0?e.jsxs(Q,{value:(f==null?void 0:f.toString())||"",onValueChange:s=>$(parseInt(s)),children:[e.jsx(W,{children:e.jsx(J,{})}),e.jsx(K,{children:r.map(s=>e.jsxs(w,{value:s.id.toString(),children:[s.fee_type," - ₦",s.amount.toLocaleString(),s.due_date&&` (Due: ${new Date(s.due_date).toLocaleDateString()})`]},s.id))})]}):e.jsx("div",{className:"p-3 border rounded-lg bg-muted/50 text-sm text-muted-foreground",children:"No fees found for this student's class"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"amount",children:"Amount (₦) *"}),e.jsx(U,{id:"amount",type:"number",placeholder:"0.00",value:x.amount,onChange:s=>A("amount",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"paymentMethod",children:"Payment Method *"}),e.jsxs(Q,{value:x.paymentMethod,onValueChange:s=>A("paymentMethod",s),children:[e.jsx(W,{children:e.jsx(J,{})}),e.jsxs(K,{children:[e.jsx(w,{value:"cash",children:"Cash"}),e.jsx(w,{value:"bank_transfer",children:"Bank Transfer"}),e.jsx(w,{value:"cheque",children:"Cheque"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"paymentDate",children:"Payment Date *"}),e.jsx(U,{id:"paymentDate",type:"date",value:x.paymentDate,onChange:s=>A("paymentDate",s.target.value)})]}),x.paymentMethod==="bank_transfer"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"referenceNumber",children:"Reference Number *"}),e.jsx(U,{id:"referenceNumber",placeholder:"TRX123456789",value:x.referenceNumber,onChange:s=>A("referenceNumber",s.target.value)})]}),x.paymentMethod==="bank_transfer"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"bankName",children:"Bank Name"}),e.jsx(U,{id:"bankName",placeholder:"e.g., First Bank",value:x.bankName,onChange:s=>A("bankName",s.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"notes",children:"Notes (Optional)"}),e.jsx(_e,{id:"notes",placeholder:"Add any additional notes about this payment...",value:x.notes,onChange:s=>A("notes",s.target.value),rows:3})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{onClick:X,className:"flex-1",disabled:V,children:V?e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"h-4 w-4 mr-2"}),"Record Payment"]})}),a&&e.jsxs(H,{variant:"outline",onClick:Z,disabled:V,children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})]}),e.jsxs(o,{children:[e.jsxs(_,{children:[e.jsx(G,{children:"Recent Payment Records"}),e.jsx(Re,{children:"View and manage manually recorded payments"})]}),e.jsx(m,{children:t.length>0?e.jsxs(be,{children:[e.jsx(ge,{children:e.jsxs(se,{children:[e.jsx(C,{children:"Date"}),e.jsx(C,{children:"Student"}),e.jsx(C,{children:"Class"}),e.jsx(C,{children:"Amount"}),e.jsx(C,{children:"Method"}),e.jsx(C,{children:"Reference"}),e.jsx(C,{children:"Recorded By"}),e.jsx(C,{className:"text-right",children:"Actions"})]})}),e.jsx(pe,{children:t.map(s=>e.jsxs(se,{children:[e.jsx(F,{children:new Date(s.paymentDate).toLocaleDateString()}),e.jsx(F,{className:"font-medium",children:s.studentName}),e.jsx(F,{children:s.className}),e.jsxs(F,{className:"font-semibold",children:["₦",s.amount.toLocaleString()]}),e.jsx(F,{children:e.jsxs(ee,{variant:"outline",className:"flex items-center gap-1 w-fit",children:[L(s.paymentMethod),s.paymentMethod.replace("_"," ")]})}),e.jsx(F,{className:"text-sm text-muted-foreground",children:s.referenceNumber||"-"}),e.jsx(F,{className:"text-sm",children:s.recordedBy}),e.jsx(F,{className:"text-right",children:e.jsx(H,{variant:"ghost",size:"sm",onClick:()=>u(s.id),children:e.jsx(Je,{className:"h-4 w-4 text-destructive"})})})]},s.id))})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ie,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No payment records yet"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Start by recording a new payment above"})]})})]})]})}function Us(){const{logout:d,permissions:g}=Xe(),{payments:j,currentUser:p,accountants:T,studentFeeBalances:D,students:B,classes:R,currentTerm:a,currentAcademicYear:k,getUnreadNotifications:V}=de(),[y,I]=N.useState("dashboard"),[i,r]=N.useState(null),[l,f]=N.useState(!1),$=p?T.find(s=>s.id===p.linkedId):null,x=$?`${$.firstName} ${$.lastName}`:"Accountant",q=(p==null?void 0:p.permissions)||[];N.useEffect(()=>{ne(this,null,function*(){try{f(!0);const c=yield Qe.getAccountantDashboardData();r(c)}catch(c){console.error("Error fetching accountant dashboard data:",c)}finally{f(!1)}})},[]);const t=[{icon:e.jsx(rs,{className:"w-5 h-5"}),label:"Dashboard",id:"dashboard"},...g.canManagePayments?[{icon:e.jsx(me,{className:"w-5 h-5"}),label:"Set Fees",id:"set-fees"},{icon:e.jsx(Ie,{className:"w-5 h-5"}),label:"Manual Payment Entry",id:"manual-payment"},{icon:e.jsx(ie,{className:"w-5 h-5"}),label:"Record Payments",id:"record-payments"}]:[],...g.canVerifyPayments?[{icon:e.jsx(te,{className:"w-5 h-5"}),label:"Verify Receipts",id:"verify-receipts"}]:[],...g.canViewReports?[{icon:e.jsx(ve,{className:"w-5 h-5"}),label:"Payment Reports",id:"payment-reports"},{icon:e.jsx(je,{className:"w-5 h-5"}),label:"Payment History",id:"payment-history"}]:[],...g.canManagePayments?[{icon:e.jsx(ue,{className:"w-5 h-5"}),label:"Bank Settings",id:"bank-settings"}]:[],{icon:e.jsx(ls,{className:"w-5 h-5"}),label:"Notifications",id:"notifications"},{icon:e.jsx(us,{className:"w-5 h-5"}),label:"Change Password",id:"change-password"},{icon:e.jsx(ns,{className:"w-5 h-5"}),label:"Logout",id:"logout"}].filter(Boolean),S=s=>{s==="logout"?d():I(s)},Y=j.filter(s=>s.status==="Pending"),h=p?V(p.id,"accountant"):[],n=D.filter(s=>s.term===a&&s.academicYear===k),b=n.reduce((s,c)=>s+c.totalFeeRequired,0),A=n.reduce((s,c)=>s+c.totalPaid,0),Z=n.reduce((s,c)=>s+c.balance,0),X=b>0?(A/b*100).toFixed(1):"0",u=new Date().toDateString(),L=j.filter(s=>new Date(s.recordedDate).toDateString()===u&&s.status==="Verified"),v=L.reduce((s,c)=>s+c.amount,0);return e.jsxs("div",{className:"min-h-screen bg-[#F4F6F9]",children:[e.jsx(cs,{items:t,activeItem:y,onItemClick:S,themeColor:"#007C91"}),e.jsxs("div",{className:"lg:pl-64",children:[e.jsx(ds,{userName:x,userRole:"Accountant",notificationCount:h.length,onLogout:d,onNotificationClick:()=>I("notifications")}),e.jsxs("main",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[y==="dashboard"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-[#1F2937] mb-2",children:["Welcome back, ",x]}),e.jsx("p",{className:"text-[#6B7280]",children:"Manage school finances, fee collection, and financial reporting"}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-[#10B981]",children:[e.jsx(te,{className:"w-3 h-3"}),e.jsxs("span",{children:["Optimized data loading - ",B.length," active students loaded"]})]})]}),i&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(o,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("p",{className:"text-[#6B7280] text-sm",children:"Total Fees Expected"}),e.jsx(Fe,{className:"w-5 h-5 text-[#007C91]"})]}),e.jsxs("p",{className:"text-[#1F2937] mb-1 font-semibold",children:["₦",i.totalFeesExpected.toLocaleString()]})]})}),e.jsx(o,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("p",{className:"text-[#6B7280] text-sm",children:"Payments Received"}),e.jsx(ce,{className:"w-5 h-5 text-[#10B981]"})]}),e.jsxs("p",{className:"text-[#1F2937] mb-1 font-semibold",children:["₦",i.totalPaymentsReceived.toLocaleString()]})]})}),e.jsx(o,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("p",{className:"text-[#6B7280] text-sm",children:"Pending Payments"}),e.jsx(ie,{className:"w-5 h-5 text-[#F59E0B]"})]}),e.jsxs("p",{className:"text-[#1F2937] mb-1 font-semibold",children:[i.pendingPayments.count," pending"]}),e.jsxs("p",{className:"text-xs text-[#6B7280]",children:["₦",i.pendingPayments.amount.toLocaleString()," total"]})]})})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(o,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(_,{className:"border-b border-[#E5E7EB] p-5",children:e.jsxs("h3",{className:"text-[#1F2937] font-semibold flex items-center gap-2",children:[e.jsx(bs,{className:"w-5 h-5 text-[#007C91]"}),"My Financial Responsibilities"]})}),e.jsxs(m,{className:"p-5 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-[#E0F2FE] rounded-lg border border-[#007C91]/20",children:[e.jsx(me,{className:"w-5 h-5 text-[#007C91]"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#1F2937] font-medium text-sm",children:"Fee Collection"}),e.jsx("p",{className:"text-[#6B7280] text-xs",children:"Collect, record, and verify all school fees"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-[#F0FDF4] rounded-lg border border-[#10B981]/20",children:[e.jsx(ie,{className:"w-5 h-5 text-[#10B981]"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#1F2937] font-medium text-sm",children:"Payment Management"}),e.jsx("p",{className:"text-[#6B7280] text-xs",children:"Process payments, issue receipts, track transactions"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-[#FEF3C7] rounded-lg border border-[#F59E0B]/20",children:[e.jsx(ve,{className:"w-5 h-5 text-[#F59E0B]"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#1F2937] font-medium text-sm",children:"Financial Reporting"}),e.jsx("p",{className:"text-[#6B7280] text-xs",children:"Generate reports, analyze revenue, track collections"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-[#DBEAFE] rounded-lg border border-[#3B82F6]/20",children:[e.jsx(ue,{className:"w-5 h-5 text-[#3B82F6]"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#1F2937] font-medium text-sm",children:"Bank Operations"}),e.jsx("p",{className:"text-[#6B7280] text-xs",children:"Manage bank accounts, reconcile transactions"})]})]})]})]}),e.jsxs(o,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(_,{className:"border-b border-[#E5E7EB] p-5",children:e.jsxs("h3",{className:"text-[#1F2937] font-semibold flex items-center gap-2",children:[e.jsx(he,{className:"w-5 h-5 text-[#10B981]"}),"System Access & Permissions"]})}),e.jsxs(m,{className:"p-5 space-y-3",children:[q.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(he,{className:"w-12 h-12 text-[#9CA3AF] mx-auto mb-3"}),e.jsx("p",{className:"text-[#6B7280]",children:"No specific permissions assigned"}),e.jsx("p",{className:"text-[#9CA3AF] text-sm mt-1",children:"Contact administrator to get permissions"})]}):q.map((s,c)=>{const M=z=>z.includes("Fee")?e.jsx(Ze,{className:"w-5 h-5 text-[#10B981]"}):z.includes("Payment")?e.jsx(Ie,{className:"w-5 h-5 text-[#007C91]"}):z.includes("Receipt")?e.jsx(te,{className:"w-5 h-5 text-[#F59E0B]"}):z.includes("Report")?e.jsx(je,{className:"w-5 h-5 text-[#6B7280]"}):z.includes("Bank")?e.jsx(ue,{className:"w-5 h-5 text-[#3B82F6]"}):e.jsx(he,{className:"w-5 h-5 text-[#007C91]"}),O=z=>z.includes("Fee")?"bg-[#D1FAE5] border-[#10B981]/20":z.includes("Payment")?"bg-[#E0F2FE] border-[#007C91]/20":z.includes("Receipt")?"bg-[#FEF3C7] border-[#F59E0B]/20":z.includes("Report")?"bg-[#F3F4F6] border-[#6B7280]/20":z.includes("Bank")?"bg-[#DBEAFE] border-[#3B82F6]/20":"bg-[#E0F2FE] border-[#007C91]/20";return e.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border ${O(s)}`,children:[M(s),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#1F2937] font-medium text-sm",children:s}),e.jsxs("p",{className:"text-[#6B7280] text-xs",children:[s.includes("Fee")&&"Configure fees for different classes and payment types",s.includes("Payment")&&"Record manual payments and offline transactions",s.includes("Receipt")&&"Verify and validate payment receipts",s.includes("Report")&&"Generate financial reports and analytics",s.includes("Bank")&&"Manage bank account settings and configurations"]})]})]},c)}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-[#E0F2FE] rounded-lg border border-[#007C91]/20",children:[e.jsx(he,{className:"w-5 h-5 text-[#007C91]"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#1F2937] font-medium text-sm",children:"Basic Access"}),e.jsx("p",{className:"text-[#6B7280] text-xs",children:"View financial records and payment status"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(o,{className:"rounded-xl bg-gradient-to-br from-[#007C91] to-[#006073] text-white border-0 shadow-clinical hover:shadow-clinical-lg transition-all",children:e.jsxs(m,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(Fe,{className:"w-6 h-6"})}),e.jsxs("span",{className:"text-sm opacity-80",children:[X,"%"]})]}),e.jsx("p",{className:"text-white/80 text-sm mb-1",children:"Total Collected"}),e.jsxs("h3",{className:"text-white",children:["₦",A.toLocaleString()]}),e.jsx("p",{className:"text-xs text-white/60 mt-2",children:a})]})}),e.jsx(o,{className:"rounded-xl bg-gradient-to-br from-[#10B981] to-[#059669] text-white border-0 shadow-clinical hover:shadow-clinical-lg transition-all",children:e.jsxs(m,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(ce,{className:"w-6 h-6"})}),e.jsx("span",{className:"text-sm opacity-80",children:"Today"})]}),e.jsx("p",{className:"text-white/80 text-sm mb-1",children:"Today's Revenue"}),e.jsxs("h3",{className:"text-white",children:["₦",v.toLocaleString()]}),e.jsxs("p",{className:"text-xs text-white/60 mt-2",children:[L.length," payments"]})]})}),e.jsx(o,{className:"rounded-xl bg-gradient-to-br from-[#F59E0B] to-[#F4B400] text-white border-0 shadow-clinical hover:shadow-clinical-lg transition-all",children:e.jsxs(m,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(ie,{className:"w-6 h-6"})}),e.jsx(ee,{className:"bg-white/20 text-white border-0",children:Y.length})]}),e.jsx("p",{className:"text-white/80 text-sm mb-1",children:"Pending Verification"}),e.jsx("h3",{className:"text-white",children:Y.length}),e.jsx("p",{className:"text-xs text-white/60 mt-2",children:"Awaiting approval"})]})}),e.jsx(o,{className:"rounded-xl bg-gradient-to-br from-[#EF4444] to-[#DC2626] text-white border-0 shadow-clinical hover:shadow-clinical-lg transition-all",children:e.jsxs(m,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(ce,{className:"w-6 h-6"})})}),e.jsx("p",{className:"text-white/80 text-sm mb-1",children:"Outstanding"}),e.jsxs("h3",{className:"text-white",children:["₦",Z.toLocaleString()]}),e.jsx("p",{className:"text-xs text-white/60 mt-2",children:"Requires follow-up"})]})})]}),e.jsxs(o,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(_,{className:"p-6 border-b border-[#E5E7EB]",children:e.jsxs(G,{className:"text-[#1F2937]",children:["Fee Collection Progress - ",a]})}),e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-[#6B7280] text-sm",children:"Collection Rate"}),e.jsxs("span",{className:"text-[#007C91]",children:[X,"%"]})]}),e.jsx("div",{className:"w-full bg-[#E5E7EB] rounded-full h-4 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-[#007C91] to-[#10B981] h-full rounded-full transition-all duration-500",style:{width:`${X}%`}})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{className:"p-4 bg-[#F9FAFB] rounded-lg",children:[e.jsx("p",{className:"text-xs text-[#6B7280] mb-1",children:"Expected"}),e.jsxs("p",{className:"text-[#1F2937]",children:["₦",b.toLocaleString()]})]}),e.jsxs("div",{className:"p-4 bg-[#10B981]/10 rounded-lg",children:[e.jsx("p",{className:"text-xs text-[#6B7280] mb-1",children:"Collected"}),e.jsxs("p",{className:"text-[#10B981]",children:["₦",A.toLocaleString()]})]}),e.jsxs("div",{className:"p-4 bg-[#EF4444]/10 rounded-lg",children:[e.jsx("p",{className:"text-xs text-[#6B7280] mb-1",children:"Outstanding"}),e.jsxs("p",{className:"text-[#EF4444]",children:["₦",Z.toLocaleString()]})]})]})]})})]}),e.jsxs(o,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(_,{className:"p-6 border-b border-[#E5E7EB]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(G,{className:"text-[#1F2937]",children:"Pending Payment Verifications"}),e.jsx(ee,{className:"bg-[#F59E0B] text-white border-0 rounded-full",children:Y.length})]})}),e.jsxs(m,{className:"p-0",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(be,{children:[e.jsx(ge,{children:e.jsxs(se,{className:"bg-[#007C91] border-none hover:bg-[#007C91]",children:[e.jsx(C,{className:"text-white",children:"Student Name"}),e.jsx(C,{className:"text-white",children:"Term"}),e.jsx(C,{className:"text-white",children:"Amount"}),e.jsx(C,{className:"text-white",children:"Date"}),e.jsx(C,{className:"text-white",children:"Payment Method"}),e.jsx(C,{className:"text-white text-center",children:"Action"})]})}),e.jsx(pe,{children:Y.length===0?e.jsx(se,{className:"bg-white",children:e.jsx(F,{colSpan:6,className:"text-center py-8 text-[#6B7280]",children:"No pending payments to verify"})}):Y.slice(0,5).map(s=>e.jsxs(se,{className:"bg-white border-b border-[#E5E7EB] hover:bg-[#F9FAFB]",children:[e.jsx(F,{className:"text-[#1F2937]",children:s.studentName}),e.jsx(F,{className:"text-[#6B7280]",children:s.term}),e.jsxs(F,{className:"text-[#007C91]",children:["₦",s.amount.toLocaleString()]}),e.jsx(F,{className:"text-[#6B7280]",children:new Date(s.recordedDate).toLocaleDateString()}),e.jsx(F,{className:"text-[#6B7280]",children:s.paymentMethod}),e.jsx(F,{className:"text-center",children:e.jsxs(H,{onClick:()=>I("verify-receipts"),className:"bg-[#007C91] hover:bg-[#006073] text-white rounded-xl text-xs h-9 shadow-clinical hover:shadow-clinical-lg transition-all",children:[e.jsx(is,{className:"w-3 h-3 mr-1"}),"Verify"]})})]},s.id))})]})}),Y.length>5&&e.jsx("div",{className:"p-4 border-t border-[#E5E7EB] text-center",children:e.jsxs(H,{onClick:()=>I("verify-receipts"),variant:"outline",className:"text-[#007C91] border-[#007C91] hover:bg-[#007C91]/10 rounded-xl",children:["View All ",Y.length," Pending Payments"]})})]})]}),e.jsxs(o,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical",children:[e.jsx(_,{className:"p-6 border-b border-[#E5E7EB]",children:e.jsx(G,{className:"text-[#1F2937]",children:"Recent Verified Payments"})}),e.jsxs(m,{className:"space-y-3 p-6",children:[j.filter(s=>s.status==="Verified").slice(0,5).map(s=>{const c=B.find(O=>O.id===s.studentId),M=c?R.find(O=>O.id===c.classId):null;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB] hover:border-[#007C91] hover:shadow-clinical transition-all",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[#1F2937]",children:s.studentName}),e.jsxs("p",{className:"text-xs text-[#6B7280]",children:[(M==null?void 0:M.name)||"N/A"," • ",s.paymentType]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-[#007C91]",children:["₦",s.amount.toLocaleString()]}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:new Date(s.recordedDate).toLocaleDateString()})]})]},s.id)}),j.filter(s=>s.status==="Verified").length===0&&e.jsx("div",{className:"text-center py-8 text-[#6B7280]",children:"No verified payments yet"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(o,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical hover:shadow-clinical-lg transition-all cursor-pointer group",onClick:()=>I("set-fees"),children:e.jsxs(m,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-[#007C91]/10 flex items-center justify-center group-hover:bg-[#007C91]/20 transition-all",children:e.jsx(me,{className:"w-8 h-8 text-[#007C91]"})}),e.jsx("h3",{className:"text-[#1F2937] mb-2",children:"Set Fee Structure"}),e.jsx("p",{className:"text-sm text-[#6B7280]",children:"Configure fees for classes"})]})}),e.jsx(o,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical hover:shadow-clinical-lg transition-all cursor-pointer group",onClick:()=>I("record-payments"),children:e.jsxs(m,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-[#10B981]/10 flex items-center justify-center group-hover:bg-[#10B981]/20 transition-all",children:e.jsx(ie,{className:"w-8 h-8 text-[#10B981]"})}),e.jsx("h3",{className:"text-[#1F2937] mb-2",children:"Record Payment"}),e.jsx("p",{className:"text-sm text-[#6B7280]",children:"Manual payment entry"})]})}),e.jsx(o,{className:"rounded-xl bg-white border border-[#E5E7EB] shadow-clinical hover:shadow-clinical-lg transition-all cursor-pointer group",onClick:()=>I("payment-reports"),children:e.jsxs(m,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-[#F4B400]/10 flex items-center justify-center group-hover:bg-[#F4B400]/20 transition-all",children:e.jsx(ve,{className:"w-8 h-8 text-[#F4B400]"})}),e.jsx("h3",{className:"text-[#1F2937] mb-2",children:"Generate Reports"}),e.jsx("p",{className:"text-sm text-[#6B7280]",children:"Export payment reports"})]})})]})]}),e.jsxs(Ke,{children:[y==="set-fees"&&e.jsx(ws,{}),y==="manual-payment"&&e.jsx(Bs,{}),y==="record-payments"&&e.jsx(fs,{}),y==="verify-receipts"&&e.jsx(vs,{}),y==="payment-reports"&&e.jsx(Fs,{}),y==="payment-history"&&e.jsx(ys,{}),y==="bank-settings"&&e.jsx(Es,{}),y==="notifications"&&e.jsx(os,{}),y==="change-password"&&e.jsx(hs,{})]})]})]})]})}export{Us as AccountantDashboard};
