var S=Object.defineProperty,k=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var f=(t,a,e)=>a in t?S(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e,l=(t,a)=>{for(var e in a||(a={}))D.call(a,e)&&f(t,e,a[e]);if(b)for(var e of b(a))I.call(a,e)&&f(t,e,a[e]);return t},i=(t,a)=>k(t,A(a));import{c as L,b as M,r as d,j as s,d as w}from"./index.js";import{C as R,b as U,a as $,B as N}from"./card.js";import{L as u,I as p}from"./select.js";import{A as q,a as O,E as P,S as _}from"./NotificationsPage.js";import{L as g}from"./lock.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],j=L("eye-off",H);function W(){const{currentUser:t,changePassword:a}=M(),[e,n]=d.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[x,y]=d.useState(!1),[h,v]=d.useState(!1),[m,E]=d.useState(!1),[o,c]=d.useState({}),F=()=>{const r={};return e.currentPassword||(r.currentPassword="Current password is required"),e.newPassword?e.newPassword.length<6&&(r.newPassword="Password must be at least 6 characters"):r.newPassword="New password is required",e.confirmPassword?e.newPassword!==e.confirmPassword&&(r.confirmPassword="Passwords do not match"):r.confirmPassword="Please confirm your new password",c(r),Object.keys(r).length===0},C=r=>{if(r.preventDefault(),!F()){w.error("Please fix the errors in the form");return}if(!t){w.error("No user logged in");return}a(t.id,e.currentPassword,e.newPassword)?(w.success("Password changed successfully!"),n({currentPassword:"",newPassword:"",confirmPassword:""}),c({})):(w.error("Current password is incorrect"),c({currentPassword:"Incorrect password"}))},B=()=>{n({currentPassword:"",newPassword:"",confirmPassword:""}),c({})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-[#1F2937] mb-2",children:"Change Password"}),s.jsx("p",{className:"text-[#6B7280]",children:"Update your account password for security"})]}),s.jsxs(q,{className:"bg-blue-50 border-blue-200 rounded-xl",children:[s.jsx(g,{className:"h-4 w-4 text-blue-600"}),s.jsxs(O,{className:"text-gray-900",children:[s.jsx("strong",{children:"Password Security Tips:"}),s.jsx("br",{}),"• Use at least 6 characters",s.jsx("br",{}),"• Include a mix of uppercase, lowercase, numbers, and symbols",s.jsx("br",{}),"• Avoid using personal information",s.jsx("br",{}),"• Don't reuse passwords from other accounts"]})]}),s.jsx("form",{onSubmit:C,children:s.jsxs(R,{className:"rounded-lg bg-white border border-[#E5E7EB] shadow-clinical max-w-2xl",children:[s.jsx(U,{className:"p-5 border-b border-[#E5E7EB]",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(g,{className:"w-5 h-5 text-[#3B82F6]"}),s.jsx("h3",{className:"text-lg text-[#1F2937]",children:"Update Password"})]})}),s.jsxs($,{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(u,{className:"text-[#1F2937]",children:["Current Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(p,{type:x?"text":"password",placeholder:"Enter current password",value:e.currentPassword,onChange:r=>n(i(l({},e),{currentPassword:r.target.value})),className:`h-12 rounded-lg border ${o.currentPassword?"border-red-500":"border-[#E5E7EB]"} bg-[#F9FAFB] text-[#1F2937] pr-12`}),s.jsx("button",{type:"button",onClick:()=>y(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#1F2937]",children:x?s.jsx(j,{className:"w-5 h-5"}):s.jsx(P,{className:"w-5 h-5"})})]}),o.currentPassword&&s.jsx("p",{className:"text-xs text-red-500",children:o.currentPassword})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(u,{className:"text-[#1F2937]",children:["New Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(p,{type:h?"text":"password",placeholder:"Enter new password",value:e.newPassword,onChange:r=>n(i(l({},e),{newPassword:r.target.value})),className:`h-12 rounded-lg border ${o.newPassword?"border-red-500":"border-[#E5E7EB]"} bg-[#F9FAFB] text-[#1F2937] pr-12`}),s.jsx("button",{type:"button",onClick:()=>v(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#1F2937]",children:h?s.jsx(j,{className:"w-5 h-5"}):s.jsx(P,{className:"w-5 h-5"})})]}),o.newPassword&&s.jsx("p",{className:"text-xs text-red-500",children:o.newPassword}),s.jsx("p",{className:"text-xs text-[#6B7280]",children:"Minimum 6 characters"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(u,{className:"text-[#1F2937]",children:["Confirm New Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(p,{type:m?"text":"password",placeholder:"Re-enter new password",value:e.confirmPassword,onChange:r=>n(i(l({},e),{confirmPassword:r.target.value})),className:`h-12 rounded-lg border ${o.confirmPassword?"border-red-500":"border-[#E5E7EB]"} bg-[#F9FAFB] text-[#1F2937] pr-12`}),s.jsx("button",{type:"button",onClick:()=>E(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#1F2937]",children:m?s.jsx(j,{className:"w-5 h-5"}):s.jsx(P,{className:"w-5 h-5"})})]}),o.confirmPassword&&s.jsx("p",{className:"text-xs text-red-500",children:o.confirmPassword})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(N,{type:"button",onClick:B,variant:"outline",className:"flex-1 rounded-lg border-[#E5E7EB] text-[#6B7280] hover:bg-[#F9FAFB] hover:text-[#1F2937]",children:"Reset"}),s.jsxs(N,{type:"submit",className:"flex-1 bg-[#3B82F6] hover:bg-[#2563EB] text-white rounded-lg shadow-clinical hover:shadow-clinical-lg transition-all",children:[s.jsx(_,{className:"w-4 h-4 mr-2"}),"Change Password"]})]})]})]})})]})}export{W as C};
